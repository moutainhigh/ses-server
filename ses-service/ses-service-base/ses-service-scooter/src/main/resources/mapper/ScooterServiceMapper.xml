<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.redescooter.ses.service.scooter.dao.ScooterServiceMapper">

    <select id="scooterInfor" resultType="com.redescooter.ses.api.common.vo.scooter.BaseScooterResult">
        select scooter.id as id,
        scooter.picture as pictures,
        scooter.scooter_no as scooterNo,
        scooter.status as status,
        scooter.available_status as availableStatus,
        scooter.box_status as boxStatus,
        scooter.model as model,
        scooter.license_plate as licensePlate,
        scooter.license_plate_picture as licensePlatePicture,
        scooter.license_plate_time as licensePlateTime,
        scooter.scooter_id_picture as scooterIdPicture,
        scooter.insurance as insurance,
        scooter.insure_time as insureTime,
        scooter.revision as revision,
        status.scooter_ecu_id as scooterEcuId,
        status.longitule as longitule,
        status.latitude as latitude,
        status.battery as battery,
        ifnull(scooter.total_mileage, 0) as totalmileage
        from sco_scooter scooter
        inner join sco_scooter_status status on scooter.id = status.scooter_id
        where scooter.dr = 0
        <if test="list != null and list.size() != 0">
            and scooter.id in
            <foreach collection="list" open="(" separator="," close=")" item="item">
                #{item}
            </foreach>
        </if>
    </select>
</mapper>