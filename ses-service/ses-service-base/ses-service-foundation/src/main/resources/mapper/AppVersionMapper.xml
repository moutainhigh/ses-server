<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.redescooter.ses.service.foundation.dao.AppVersionMapper">

    <resultMap id="BaseResultMap" type="com.redescooter.ses.api.foundation.vo.app.AppVersionDTO">
        <id column="id" jdbcType="BIGINT" property="id" />
        <result column="system_id" jdbcType="VARCHAR" property="systemId" />
        <result column="app_id" jdbcType="VARCHAR" property="appId" />
        <result column="system_type" jdbcType="INTEGER" property="systemType" />
        <result column="type" jdbcType="INTEGER" property="type" />
        <result column="code" jdbcType="VARCHAR" property="code" />
        <result column="is_force" jdbcType="INTEGER" property="isForce" />
        <result column="update_content" jdbcType="VARCHAR" property="updateContent" />
        <result column="update_link" jdbcType="VARCHAR" property="updateLink" />
        <result column="new_version_num" jdbcType="VARCHAR" property="newVersionNum" />
        <result column="package_size" jdbcType="VARCHAR" property="packageSize" />
        <result column="new_version_name" jdbcType="VARCHAR" property="newVersionName" />
        <result column="min_version_num" jdbcType="INTEGER" property="minVersionNum" />
        <result column="nin_version_name" jdbcType="VARCHAR" property="ninVersionName" />
        <result column="status" jdbcType="INTEGER" property="status" />
        <result column="created_by" jdbcType="BIGINT" property="createdBy" />
        <result column="created_time" jdbcType="TIMESTAMP" property="createdTime" />
        <result column="updated_by" jdbcType="BIGINT" property="updatedBy" />
        <result column="updated_time" jdbcType="TIMESTAMP" property="updatedTime" />
    </resultMap>

    <!--根据type查询新应用版本信息-->
    <select id="getNewAppVersionById" parameterType="java.lang.Long" resultMap="BaseResultMap">
        select * from pla_app_version
	    where id = #{id} and dr = 0
    </select>
    
</mapper>