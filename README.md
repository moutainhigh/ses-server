![RedEScooter](https://rede-other.oss-cn-beijing.aliyuncs.com/redescooter.png)           
<h1 align="center"><a href="https://github.com/mrjerryli/ses-server" target="_blank">RedE Scooter</a></h1>
     
###### <div align=right>2019~2020

<div align=center>

[![Author](https://img.shields.io/badge/Author-RedE开发团队-orange.svg?logo=data:image/png;base64,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)](https://redescooter.com/)
[![Vresion](https://img.shields.io/badge/Vresion-1.2.0-red.svg?logo=Vimeo)](https://github.com/mrjerryli/ses)
[![Status](https://img.shields.io/badge/Status-Develop-critical.svg?logo=Statuspage)](https://redescooter.com/)
[![JDK](https://img.shields.io/badge/JDK-1.8.0_162-orange.svg?logo=java)](https://www.oracle.com/technetwork/java/javase/downloads/index.html)
[![Maven Central](https://img.shields.io/badge/Maven_Central-3.6.1-Central.svg?logo=Apache-Maven)](https://maven.apache.org/ref/3.6.1/)
[![Dubbo](https://img.shields.io/badge/Dubbo-2.7.3-blue.svg?logo=data:image/png;base64,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)](http://dubbo.apache.org/zh-cn/index.html)
[![Spring_Boot](https://img.shields.io/badge/Spring_Boot-2.2.5.RELEASE-brightgreen.svg?logo=Spring)](https://docs.spring.io/spring-boot/docs/2.2.5.RELEASE/reference/html)
[![Redis](https://img.shields.io/badge/Redis-5.0-DC382D.svg?logo=Redis)](https://redis.io/download/)
[![Mysql](https://img.shields.io/badge/Mysql-5.x-4479A1.svg?logo=MySQL)](https://www.mysql.com/downloads/)
[![Swagger](https://img.shields.io/badge/Swagger-2.8.0-85EA2D.svg?logo=Swagger)](https://swagger.io/)
[![Vue](https://img.shields.io/badge/Vue-2.x-4FC08D.svg?logo=Vue.js)](https://swagger.io/)

</div>

<p align="center">
  <span><a href="./README.md">中文</a> | <a href="./README.en.md">English</a></span>
</p>

## 产品概述
 `SES`产品，主要服务于智能电动车物联网行业，为客户提供方便，快捷的服务，宗旨客户至上的原则。
 - `Softwareasa Service`软件即服务，简称SaaS系统。是RedEGroup通过互联网信息技术，结合智能能源车所自主开发的物联网信息服务平台。
 - `RedE`内部智能办公管理系统，简称`ROS`，是基于“客户关系管理系统”的业务模式，加入本公司实际业务需求，所自主开发的，仅供内部办公使用的管理工具。
 - 基于RedESaaS系统以及智能车载`SCS`配套使用的APP。是一款专注于配送行业，以互联网技术结合智能车载的物联网产品。
  
## 目的 
  - SasS系统，为企业级客户提供，集管理，分析，在线下单，分配，一键配送，导航，骑行，监管为一体的智能配送服务。客户无需购买硬件、建设机房、下载应用，招聘IT人员，即可通过互联网进行使用。
  - RedE内部智能办公管理系统，帮助内部所有工作人员，智能，高效，便捷的完成日常所有工作，解决办公人员传统的部分手动或重复性劳动的用户痛点，实现对信息资源的高效利用，进而最大限度的提高工作效率和质量。将所有线下业务，平台化，信息化，可视化，标准化，利用现代互联网技术，收集并分析各项数据，为企业提供精准，可信，有依据的数据
  - 基于RedESaaS系统以及智能车载SCS配套使用的APP，企业级客户可通过SaaS平台创建若干骑手来使用该APP。骑手可通过使用APP，实现对车辆的远程操控及监管，对订单的派送，统计无缝对接。

## 范围
  本文档基于RedE市场需求，重新梳理并确认所建立。主要作为产品需求，系统原型，版本迭代，业务流程，逻辑说明的依据。
  
## 文档使用
 主要为产品团队，设计团队，技术团队，测试团队，运营及市场团队。
 
### 一、技术选型

- 语言框架
	- JDK 1.8
	- Spring Boot 2.1.9.RELEASE
    - Spring Security
    - Spring security Oauth2
    - Spring Security OAuth2 SSO
	- Dubbo 2.7.3
	- Zookeeper 3.4.9
	- Redis 2.9.0
	- Poi 4.1.0
	- MySQL
	- Mybatis Plus  3.1.2
	- Swagger 2.8.0
	- Xxl job 
	- TX-LCN分布式事务框架
- 构建工具
	- Intellij IDEA Ultimate 2019.2
	- Maven
- 系统
	- Windows 10
	- Mac Os
---

### 二、框架搭建

- [x] 基础框架
    - [x] 父模块、通用模块创建
    - [x] 公共starter
    - [x] 公共工具类
    - [x] xxl-job分布式任务集成
    - [X] 整合Swagger
    - [X] 搭建微服务消费者
    - [X] 搭建微服务生产者
    - [ ] lcn分布式事务监控平台
    - [ ] 搭建微服务网关Soul
- [ ] 架构完善
    - [X] 异常处理
    - [X] 跨域处理
    - [ ] 参数配置化
    - [ ] 分布式事务处
    - [ ] Spring Security
    - [ ] Spring security Oauth2
    - [ ] Spring Security OAuth2 SSO
- [ ] 业务完善
    - [X] BUOOB整合各服务
    - [X] 整合第三方服务
    - [ ] ROS v1.0.0
    - [ ] 完善登录流程

---

### 三、项目结构说明
```text
ses-server
  ├── ses-api                                                         接口API暴露层
  │   ├── ses-api-common                                              RedE API公共资源
  │   ├── ses-api-foundation                                          RedE 底层基础支持
  │   ├── ses-api-hub                                                 RedE 多数据源支持API
  │   ├── ses-api-mobile-b                                            RedE B端移动支持
  │   ├── ses-api-mobile-c                                            RedE C端移动支持
  │   ├── ses-api-proxy                                               RedE 三方服务底层
  │   └── ses-api-scooter                                             RedE 车辆API
  ├── ses-app                                                         应用层
  │   ├── ses-admin-dev                                               RedE 开发管理平台
  │   ├── ses-app-common                                              RedE 应用公共资源 
  │   ├── ses-mobile-client                                           RedE 移动端服务支持
  │   ├── ses-web-delivery                                            RedE SaaS管理系统
  │   ├── ses-web-repair                                              RedE 维修管理系统
  │   └── ses-web-ros                                                 RedE内部管理系统
  ├── ses-doc                                                         rede文档
  ├── ses-job                                                         分布式定时任务
  │   ├── doc                                                         分布式定时任务文件
  │   ├── ses-job-admin                                               分布式管理平台
  │   ├── ses-job-core                                                分布式任务核心
  │   └── ses-job-executor                                            任务执行器
  ├── ses-monitor-admin                                               rede监控系统
  ├── ses-service                                                     生产者服务提供层
  │   ├── ses-service-base                                            底层基础服务
  │   │   ├── ses-service-proxy                                       三方基础支持
  │   │   ├── ses-service-scooter                                     车辆基础服务
  │   │   └── ses-service-foundation                                  SaaS底层基础服务
  │   ├── ses-service-common                                          服务层公共资源
  │   ├── ses-service-hub                                             多数据源调度平台
  │   ├── ses-service-mobile-b                                        B端移动服务支持
  │   ├── ses-service-mobile-c                                        C端移动服务支持
  │   └── ses-service-security                                        权限安全
  ├── ses-starter                                                     rede组件层
  │   ├── ses-starter-common                                          RedE基础依赖
  │   ├── ses-starter-db                                              数据库组件
  │   ├── ses-starter-dubbo                                           dubbo RPC组件
  │   ├── ses-starter-logs                                            日志组件
  │   ├── ses-starter-poi                                             表格组件
  │   ├── ses-starter-redis                                           Redis缓存组件
  │   └── ses-starter-swagger                                         swagger在线文档组件
  ├── ses-tool                                                        公共工具类
  └── ses-txlcn-manager                                               分布式事务管理
```
---

### 四、RedE架构体系图

![rede体系图]()

### 五、相关文档

| Name | Documentation|
| ---------- | ---------------------------------------- |
| [springboot](https://docs.spring.io/spring-boot/docs/) | https://docs.spring.io/spring-boot/docs/ |
| [dubbo](http://dubbo.apache.org/en-us/) | http://dubbo.apache.org/ |      
| [MyBatis-Plus](https://mp.baomidou.com/) |https://mp.baomidou.com/|
| [Swagger](https://swagger.io/#)|https://swagger.io/|
| [TX-LCN](http://www.txlcn.org/)|http://www.txlcn.org/|
| [Spring Security](https://docs.spring.io/spring-security/site/docs/5.2.2.BUILD-SNAPSHOT/reference/htmlsingle/)|https://docs.spring.io/spring-security/site/docs/5.2.2.BUILD-SNAPSHOT/reference/htmlsingle/|
| [Spring Security Oauth](https://projects.spring.io/spring-security-oauth/docs/oauth2.html)|https://projects.spring.io/spring-security-oauth/docs/oauth2.html|


### 六、打包

1. maven 多环境打包命令
```shell script
mvn clean package -Dmaven.test.skip=true -Pprod
```
### 七、Git分支规范
分支命名
* master 分支
```text
master 为主分支，也是用于部署生产环境的分支，确保master分支稳定性
master 分支一般由develop以及hotfix分支合并，任何时间都不能直接修改代码
```

* develop 分支
```text
develop 为开发分支，始终保持最新完成以及bug修复后的代码
一般开发的新功能时，feature分支都是基于develop分支下创建的
```

* feature 分支
```text
开发新功能时，以develop为基础创建feature分支
分支命名: feature/ 开头的为特性分支， 命名规则: feature/user_module、 feature/cart_module

```

* release分支
```text
release 为预上线分支，发布提测阶段，会release分支代码为基准提测

当有一组feature开发完成，首先会合并到develop分支，进入提测时，会创建release分支。
如果测试过程中若存在bug需要修复，则直接由开发者在release分支修复并提交。
当测试完成之后，合并release分支到master和develop分支，此时master为最新代码，用作上线。
```

* hotfix 分支
```text
分支命名: hotfix/ 开头的为修复分支，它的命名规则与 feature 分支类似
线上出现紧急问题时，需要及时修复，以master分支为基线，创建hotfix分支，修复完成后，需要合并到master分支和develop分支
```

* Commit messages的基本语法
当前业界应用的比较广泛的是 Angular Git Commit Guidelines  
具体格式为:
```git
<type>: <subject>
<BLANK LINE>
<body>
<BLANK LINE>
<footer>
```

> - type: 本次 commit 的类型，诸如 bugfix docs style 等
> - scope: 本次 commit 波及的范围
> - subject: 简明扼要的阐述下本次 commit 的主旨，在原文中特意强调了几点 1. 使用祈使句，是不是很熟悉又陌生的一个词，来传送门在此 祈使句 2. 首字母不要大写 3. 结尾无需添加标点
> - body: 同样使用祈使句，在主体内容中我们需要把本次 commit 详细的描述一下，比如此次变更的动机，如需换行，则使用 |
> - footer: 描述下与之关联的 issue 或 break change，详见案例

Type的类别说明：

> - feat: 添加新特性
> - fix: 修复bug
> - docs: 仅仅修改了文档
> - style: 仅仅修改了空格、格式缩进、都好等等，不改变代码逻辑
> - refactor: 代码重构，没有加新功能或者修复bug
> - perf: 增加代码进行性能测试
> - test: 增加测试用例
> - chore: 改变构建流程、或者增加依赖库、工具等

